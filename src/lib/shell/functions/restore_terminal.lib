#!/bin/bash
function _RESTORE_TERMINAL(){
  if [[ "$(id -u)" == 0 ]]; then
    msg_warning "You cannot apply using 'root(superuser)'"
  else
    if [[ ! -z "$GNOME_TERMINAL" ]]; then
      TERMINAL="gnome-terminal"
    elif [[ ! -z "$XFCE4_TERMINAL" ]]; then
      TERMINAL="xfce4-terminal"
    elif [[ ! -z "$KONSOLE" ]]; then
      TERMINAL="konsole"
    else
      msg_error "Error variable 'TERMINAL'"
      exit 1
    fi

    printf "\n"
    msg_restore_term
    printf "\n"
    msg_header "Which one do you choose? (Answer with the number)"
    printf "\n"

    PS3="Reply > "
    select runner in "I want to restore the terminals !" "I will type the command !"
    do
      case $runner in
        "I want to restore the terminals !" )
            msg_warning "Restore terminal \"$TERMINAL\". Wait ..."
            sleep 3
            nohup pkill $TERMINAL
            $TERMINAL -e /bin/bash &
            break
          ;;
        "I will type the command !" )
            printf "\n"
            msg_header "Please run the command: \"source ~/.bashrc\""
            break
          ;;
      esac
    done
  fi
}