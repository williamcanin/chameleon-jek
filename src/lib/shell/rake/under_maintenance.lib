#!/bin/bash

function _under_maintenance_enable(){
cat << EOF > index.html
---
---
<!DOCTYPE html>
<html>
  {% include html/head.html%}
<body>
 <div style="padding: 60px 0px;" class="container-fluid">
   <div style="text-align:center;" class="row">
     <i style="width: 50px; margin: 0 auto; font-size: 50px;" class="fa fa-wrench"></i>
   </div>
   <div class="row">
     <h1 align="center">
       {% if site.language == "portuguese" %}
        <p style="margin: 30px 0px;">Desculpe :( </p>
        <p>A página do meu blog está em manutenção.</p>
       {% else %}
        <p style="margin: 30px 0px;">Sorry :(</p>
        <p>The page of my blog is down for maintenance.</p>
        <h3 align="center">
          <p>Meanwhile, you can contact me on the following links:</p>
        </h3>
        <div class="row">
          <div class="um-social-icons">
          {% include html/social_icons.html %}
          </div>
        </div>
       {% endif %}
     </h1>
     <h3 align="center">
     <p>Enquanto isso, você pode entrar em contacto comigo nos links abaixo:</p>
     </h3>
     <div class="row">
       <div class="um-social-icons">
        {% include html/social_icons.html %}
       </div>
     </div>
   </div>
 </div>
</body>
</html>
EOF
}

function _under_maintenance_disable(){
cat << EOF > index.html
---
layout: default
---

<!-- Home - Listed posts -->
{% include html/home.html %}
<!-- Count Disqus -->
{% include scripts/disqus_count.html %}
EOF
}

if [[ "$1" == "enable" ]]; then
  _under_maintenance_enable
elif [[ "$1" == "disable" ]]; then
  _under_maintenance_disable
else
  printf "Wrong parameter for 'Under Maintenance'\n"
fi